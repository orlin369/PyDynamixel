#!/usr/bin/env python3
# -*- coding: utf-8 -*-

"""AX-12/AX-12A register and value constants (Protocol 1.0)."""

from .error_bit_masks import ERROR_BIT_MASKS
from .instruction import INSTRUCTION
from .led_state import LED_STATE
from .status_return import STATUS_RETURN

# EEPROM (0x00-0x17)
MODEL_NUMBER = 0x00
VERSION = 0x02
ID = 0x03
BAUD_RATE = 0x04
RETURN_DELAY = 0x05
CW_ANGLE_LIMIT = 0x06
CCW_ANGLE_LIMIT = 0x08
TEMP_LIMIT = 0x0B
MIN_VOLTAGE_LIMIT = 0x0C
MAX_VOLTAGE_LIMIT = 0x0D
MAX_TORQUE = 0x0E
STATUS_RETURN_LEVEL = 0x10
ALARM_LED = 0x11
ALARM_SHUTDOWN = 0x12
DOWN_CALIBRATION = 0x14
UP_CALIBRATION = 0x16

# RAM (0x18-0x31)
TORQUE_ENABLE = 0x18
LED = 0x19
CW_COMPLIANCE_MARGIN = 0x1A
CCW_COMPLIANCE_MARGIN = 0x1B
CW_COMPLIANCE_SLOPE = 0x1C
CCW_COMPLIANCE_SLOPE = 0x1D
GOAL_POSITION = 0x1E
MOVING_SPEED = 0x20
TORQUE_LIMIT = 0x22
PRESENT_POSITION = 0x24
PRESENT_SPEED = 0x26
PRESENT_LOAD = 0x28
PRESENT_VOLTAGE = 0x2A
PRESENT_TEMPERATURE = 0x2B
REGISTERED = 0x2C
MOVING = 0x2E
LOCK = 0x2F
PUNCH = 0x30


BROADCAST_ID = 0xFE

# 1 Mbps by default for AX-12 family.
DEFAULT_BAUDRATE = 1_000_000
DEFAULT_TIMEOUT = 0.1

POSITION_MIN = 0
POSITION_MAX = 1023
SPEED_MIN = 0
SPEED_MAX = 1023
TORQUE_MIN = 0
TORQUE_MAX = 1023

# Factory defaults for AX-12 family.
DEFAULT_VALUES = {
    MODEL_NUMBER: 0x000C,
    ID: 0x01,
    BAUD_RATE: 0x01,
    RETURN_DELAY: 0xFA,
    CW_ANGLE_LIMIT: 0x0000,
    CCW_ANGLE_LIMIT: 0x03FF,
    TEMP_LIMIT: 0x46,
    MIN_VOLTAGE_LIMIT: 0x3C,
    MAX_VOLTAGE_LIMIT: 0xA0,
    MAX_TORQUE: 0x03FF,
    STATUS_RETURN_LEVEL: STATUS_RETURN.RETURN_FOR_ALL_PACKETS,
    ALARM_LED: 0x24,
    ALARM_SHUTDOWN: 0x24,
    TORQUE_ENABLE: 0x00,
    LED: 0x00,
    CW_COMPLIANCE_MARGIN: 0x01,
    CCW_COMPLIANCE_MARGIN: 0x01,
    REGISTERED: 0x00,
    MOVING: 0x00,
    LOCK: 0x00,
    PUNCH: 0x0020,
}
